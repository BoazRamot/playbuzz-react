(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{51:function(e,t,n){e.exports=n.p+"static/media/logo.96be9e59.png"},66:function(e,t,n){e.exports=n(88)},71:function(e,t,n){},72:function(e,t,n){},88:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(14),o=n.n(r),c=(n(71),n(72),n(61)),l=n(115),u=n(10),s=n(104),f=n(105),m=n(40),d=n(51),E=n.n(d),p=n(17),h=n(11),v=n(106),S=Object(h.b)(null,function(e){return{reset:function(){e({type:"RESET_QUESTION_INDEX"}),e({type:"RESET_SCORE"})}}})(function(e){var t=e.reset,n=function(){t()};return i.a.createElement("header",null,i.a.createElement(s.a,{position:"static",className:"app-bar"},i.a.createElement(f.a,null,i.a.createElement("img",{src:E.a,className:"App-logo",alt:"logo"}),i.a.createElement(v.a,{container:!0,direction:"row",justify:"space-around",alignItems:"center",spacing:5},i.a.createElement(p.c,{exact:!0,to:"/",className:"nav-link",activeClassName:"nav-link-active",onClick:n},i.a.createElement(m.a,{variant:"h6",className:"mx-3 cursor-pointer"},"Home")),i.a.createElement(p.c,{exact:!0,to:"/quiz/q1",className:"nav-link",activeClassName:"nav-link-active",onClick:n},i.a.createElement(m.a,{variant:"h6",className:"mx-3 cursor-pointer"},"Quiz 1")),i.a.createElement(p.c,{exact:!0,to:"/quiz/q2",className:"nav-link",activeClassName:"nav-link-active",onClick:n},i.a.createElement(m.a,{variant:"h6",className:"mx-3 cursor-pointer"},"Quiz 2")),i.a.createElement(p.c,{exact:!0,to:"/quiz/q3",className:"nav-link",activeClassName:"nav-link-active",onClick:n},i.a.createElement(m.a,{variant:"h6",className:"mx-3 cursor-pointer"},"Quiz 3"))))))}),g=n(110),z=n(111),y=n(112),b=n(113),q=n(114),I=n(107),x=n(108),N=n(109),O=Object(u.f)(Object(h.b)(function(e){return{index:e.questionIndex.questionIndex,quizzes:e.quizzes}},function(e){return{onNext:function(t,n){e({type:"ADVANCE_SCORE",payload:t}),e(n?{type:"SET_LAST_INDEX"}:{type:"ADVANCE_QUESTION"})}}})(function(e){var t=e.id,n=e.index,a=e.quizzes,r=e.onNext,o=function(e){var i=a[a.findIndex(function(e){return e.id===t})].questions.length-1===n;r(e,i)},c=a.find(function(e){return e.id===t})||a[n],l=c.questions[n].options.map(function(e,t){return i.a.createElement(I.a,{button:!0,key:t,onClick:o.bind(null,e.value)},i.a.createElement(x.a,null,e.text))});return i.a.createElement("div",{className:"Question"},i.a.createElement("h1",null,c.questions[n].question),i.a.createElement(N.a,{className:"Question-options"},l))})),T=Object(h.b)(function(e){return{lastIndex:e.questionIndex.lastIndex}},function(e){return{reset:function(){e({type:"RESET_QUESTION_INDEX"}),e({type:"RESET_SCORE"})},finishQuizNow:function(){e({type:"SET_LAST_INDEX"})}}})(function(e){var t=e.imgSrc,n=e.id,a=e.name,r=e.text,o=e.title,c=e.lastIndex,l=e.reset,u=e.finishQuizNow,s=e.short,f=void 0!==s&&s;return i.a.createElement(g.a,null,i.a.createElement(z.a,null,i.a.createElement("img",{className:f?"quiz-image-small":"quiz-image-large",src:t,title:a,alt:"Quiz"}),i.a.createElement(y.a,null,f&&i.a.createElement(m.a,{gutterBottom:!0,variant:"h5",component:"h2"},a),!f&&!c&&i.a.createElement(m.a,{variant:"body2",color:"textPrimary",component:"div"},i.a.createElement(O,{id:n})),!f&&c&&i.a.createElement(m.a,{gutterBottom:!0,variant:"h5",component:"h2"},o),!f&&c&&i.a.createElement(m.a,{variant:"body1",color:"textSecondary",component:"p"},r))),i.a.createElement(b.a,null,!f&&!c&&i.a.createElement(q.a,{size:"small",color:"primary",onClick:function(){u()}},"Go to summary now"),f&&n&&i.a.createElement(p.b,{to:"/quiz/".concat(n)},i.a.createElement(q.a,{size:"small",color:"primary"},"See full quiz")),!f&&c&&i.a.createElement(p.b,{to:"/"},i.a.createElement(q.a,{size:"small",color:"primary"},"Home")),!f&&c&&i.a.createElement(p.b,{to:"/quiz/".concat(n)},i.a.createElement(q.a,{size:"small",color:"primary",onClick:function(){l()}},"Restart quiz"))))}),w=Object(h.b)(function(e){return{quizzes:e.quizzes}},function(e){return{reset:function(){e({type:"RESET_QUESTION_INDEX"}),e({type:"RESET_SCORE"})}}})(function(e){var t=e.quizzes,n=e.reset;return Object(a.useEffect)(function(){n()}),i.a.createElement(v.a,{container:!0,spacing:3},t.map(function(e){return i.a.createElement(v.a,{item:!0,xs:6,key:e.id},i.a.createElement(T,{imgSrc:"".concat("/playbuzz-react","/img/").concat(e.imgSrc),id:e.id,name:e.title,short:!0}))}))}),_=n(116),j=function(e){var t=e.index,n=e.length,a=t;return i.a.createElement("header",null,i.a.createElement(_.a,{variant:"progress",steps:n,position:"static",activeStep:t,nextButton:i.a.createElement(q.a,null,"out of ",n),backButton:i.a.createElement(q.a,null,"current question ",a+1)}))},Q=function(e){var t=e.id,n=e.score,a=e.quiz,r=a?a.result.find(function(e){return n<=e.score}):"";return a?i.a.createElement(T,{id:t,imgSrc:"/img/".concat(r.imgSrc),name:a.title,title:r.title,text:r.text}):null},k=Object(h.b)(function(e){return{index:e.questionIndex.questionIndex,lastIndex:e.questionIndex.lastIndex,shuffled:e.questionIndex.shuffled,score:e.score.score,getQuiz:function(t){return e.quizzes.find(function(e){return e.id===t})}}},function(e){return{reset:function(){e({type:"RESET_QUESTION_INDEX"}),e({type:"RESET_SCORE"})},isShuffled:function(t){e({type:"SET_QUESTION_SHUFFLE",payload:t})},setShuffled:function(t){e({type:"SET_SHUFFLED_QUESTIONS",payload:t})}}})(function(e){var t=e.index,n=e.lastIndex,r=e.shuffled,o=e.score,c=e.getQuiz,l=e.reset,u=e.isShuffled,s=e.setShuffled,f=e.match;Object(a.useEffect)(function(){window.addEventListener("popstate",function(){console.log("QuizPage useEffect"),u(!1),l()})},[l,u]);var m=f.params.id,d=c(m);return d&&!r&&(console.log("shuffleQuestions if if if"),function(e){for(var t,n,a=e.length;0!==a;)n=Math.floor(Math.random()*a),t=e[a-=1],e[a]=e[n],e[n]=t;u(!0)}(d.questions),s(d),u(!0)),n?i.a.createElement(Q,{id:m,score:o,quiz:d}):d?i.a.createElement("div",null,i.a.createElement(j,{index:t,length:d.questions.length}),i.a.createElement(T,{id:m,name:d.title,imgSrc:"".concat("/playbuzz-react","/img/").concat(d.questions[t].imgSrc)})):null}),A=n(59),C=function e(t){Object(A.a)(this,e),this.id=void 0,this.imgSrc=void 0,this.title=void 0,this.result=void 0,this.questions=void 0,this.id=t.id,this.imgSrc=t.imgSrc,this.title=t.title,this.result=t.result,this.questions=t.questions},U=n(19),R=n(38),D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"[QUIZZES] DATA_SET":return[].concat(Object(R.a)(e),[t.payload]);case"SET_SHUFFLED_QUESTIONS":return e.map(function(e){return e.id!==t.payload.id?e:Object(U.a)({},e,{questions:t.payload.questions})});default:return e}},Z=function(e){var t=e.dispatch;return function(e){return function(n){return"[QUIZZES API] GET_QUIZZES"===n.type&&n.payload.forEach(function(e){fetch("/playbuzz-react"+e).then(function(e){return e.json()}).then(function(e){var n=new C(e);t({type:"[QUIZZES] DATA_SET",payload:n})}).catch(function(e){console.error("Quizzes Fetch failed",e)})}),e(n)}}},L=Object(h.b)(function(e){return{quizzes:e.quizzes}},function(e){return{getData:function(t){return e(function(e){return{type:"[QUIZZES API] GET_QUIZZES",payload:e}}(t))}}})(function(e){var t=e.quizzes,n=e.getData,r=Object(c.a)({palette:{primary:{main:"#104DA1"}}});return Object(a.useEffect)(function(){0===t.length&&n(["/data/q1.json","/data/q2.json","/data/q3.json"])},[n,t.length]),i.a.createElement(l.a,{theme:r},i.a.createElement(S,null),i.a.createElement("main",{className:"p-3 App-main"},i.a.createElement(u.c,null,i.a.createElement(u.a,{path:"/quiz/:id",component:k}),i.a.createElement(u.a,{path:"/",component:w}),i.a.createElement(u.a,{render:function(){return"Page not found"}}))))}),F=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function X(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var P=n(29),W=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}},B={questionIndex:0,lastIndex:!1,shuffled:!1},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADVANCE_QUESTION":return Object(U.a)({},e,{questionIndex:e.questionIndex+1});case"SET_LAST_INDEX":return Object(U.a)({},e,{lastIndex:!0});case"SET_QUESTION_SHUFFLE":return Object(U.a)({},e,{shuffled:t.payload});case"RESET_QUESTION_INDEX":return Object(U.a)({},B);default:return e}},J={score:0},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADVANCE_SCORE":return Object(U.a)({},e,{score:e.score+t.payload});case"RESET_SCORE":return Object(U.a)({},J);default:return e}};var G=n(60),M=function(){var e=Object(P.a)(Z),t=W(),n=Object(P.c)({questionIndex:H,score:V,quizzes:D});return Object(P.d)(n,t,e)}();M.subscribe(Object(G.throttle)(function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(n){}}({questionIndex:M.getState().questionIndex,score:M.getState().score,quizzes:M.getState().quizzes})},1e3)),o.a.render(i.a.createElement(h.a,{store:M},i.a.createElement(p.a,null,i.a.createElement(L,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/playbuzz-react",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/playbuzz-react","/service-worker.js");F?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):X(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):X(t,e)})}}()}},[[66,1,2]]]);
//# sourceMappingURL=main.dd00d965.chunk.js.map